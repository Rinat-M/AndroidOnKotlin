# Домашнее задание 2.
1. Необходимо выстроить архитектуру MVVM для будущего приложения, создать заглушки для экранов и переходы между ними.
2. \* Воспользуйтесь ViewBinding в своём проекте.
3. \* Добавьте в приложение рандомизатор, который будет возвращать разный результат загрузки данных: успех или ошибку. Обработайте ошибки загрузки.

\* Дополнительное задание

# Получившийся результат.

Что было сделано:
1. Создан новый проект с Bottom navigation.
2. Добавлены новые инконки, внесены изменения в Bottom navigation menu, переименованы фрагменты viewmodel-и.
3. Изменена иконка запуска приложения.
4. Для DI в проект добавлен Koin. Создан MyApplication класс для настройки Koin. ViewModel-и переделал на inject через Koin.
5. Добавлен sealed class AppState.
6. Созданы MoviesRepository и DataSource для дальнейшего использования. Теперь HomeViewModel в конструкторе получает MoviesRepository.
7. Созданы 2 адаптера NowPlayingMoviesAdapter и UpcomingMoviesAdapter для вывода через recyclerview на главный экран. 
8. Сделан UI для HomeFragment. Теперь на нем выводится список фильмов.  

![homework02_screecast](images/homework02_screencast_1.gif)

![homework02_screenshot](images/homework02_screenshot_1.jpg)

# Домашнее задание 3.
1. Добавьте экран с описанием конкретного фильма.
2. \* Добавьте несколько горизонтальных списков для разных категорий фильмов.

\* Дополнительное задание

# Получившийся результат.

Что было сделано:
1. Изменил реализацию главного экрана с категориями фильмов. Ранее была реализация с несколькими recylcer view, которые идут друг за другом. Заменил её на один общий вертикальный recylcer view по категориям с фильмами, в рамках которого уже будут recycler view горизонтальные со списком фильмов.
2. Реализовал экран с описанием фильма, там минимальная информация. Переход на экран описания фильма осуществляется из главного экрана со списками фильмов.

![homework03_screecast](images/homework03_screencast.gif)

![homework03_screenshot](images/homework03_screenshot.jpg)

# Домашнее задание 4.
1. Проведите рефакторинг вашего приложения в соответствии с полученными знаниями о возможностях языка и хорошими практиками программирования на Kotlin.
2. Напишите дополнительные extension-функции для Snackbar без action, а также такие, что принимают строковые ресурсы (R.string...) в качестве текста. 

# Домашнее задание 5.
1. Получайте данные с сервера The Movie DataBase. Постеры фильмов мы научимся грузить на следующих уроках — можете оставить для них заглушки.
2. \* Вынесите бизнес-логику, то есть запрос на сервер и парсинг данных, в отдельный класс. Фрагменты должны запрашивать только данные о фильмах и получать их из класса, занимающегося загрузкой.
3. \* Обрабатывайте ошибки запроса и парсинга данных: отображайте экран с ошибкой, или диалоговое окно, или Snackbar.

\* Дополнительное задание

# Получившийся результат.

Что было сделано:
1. Создал новый файл в корне проекта apikey.properties. В этом файле у меня хранится ключ к The Movie DataBase. Добавил его в .gitignore.
2. Добавил 2 переменные в настройки сборки: MOVIEDB_BASE_URL и MOVIEDB_API_KEY, чтобы проще было в дальнейшем с ними работать.
3. Добавил в проект разрешение на доступ в интернет, а также зависимость GSON.
4. Добавил новый источник данных RemoteDataSourceImpl, в котором прописана логика взаимодействия с сайтом.
5. Так как мне нужно выносить на уровень UI ошибку, то решил поменять тип возвращаемых данных на kotlin Result. Обновил interface DataSource и interface MoviesRepository, а также все классы, которые эти интерфейсы реализуют.
6. Создал новый класс NowPlayingMoviesDTO для десериализации при помощи Gson.
7. Подправил HomeFragment, HomeViewModel и fragment_home.xml для вывода полученной информации с сервера, либо ошибки.

![homework05_screecast](images/homework05_screencast_1.gif)
![homework05_screecast_if_error](images/homework05_screencast_2.gif)

# Домашнее задание 6.
1. Подпишитесь на событие изменения связи (CONNECTIVITY_ACTION) и уведомляйте об этом пользователя.
2. Переведите хотя бы один экран своего приложения на использование связки «сервис + BroadcastReceiver» для получения данных из интернета.
3. \* Создайте два разных приложения и передавайте между ними данные или создайте привязанный сервис, как это описывается в факультативе.

\* Дополнительное задание

# Получившийся результат.

Что было сделано:
1. Создал ConnectivityActionBroadcastReceiver, который отслеживает события ConnectivityManager.CONNECTIVITY_ACTION. Зарегистрировал его программно в MainActivity.
2. Создал новый сервис MovieDownloadService для скачивания информации с сайта, далее через BroadcastReceiver эта информация отображается во фрагменте. Для взаимодействия с новым сервисом создал новый фрагмент HomeWithServiceFragment.
3. Создал 2 тестовых приложения: BroadcastSender - для отправки сообщений, MessageReceiver - для получения сообщений через BroadcastReceiver.

![homework06_1](images/homework06_1.gif)
![homework06_2](images/homework06_2.gif)
![homework06_3](images/homework06_3.gif)